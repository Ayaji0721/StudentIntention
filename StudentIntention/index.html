<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>å­¦ç”Ÿè½¬åŒ–ç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/v3.2.8/vue.global.prod.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <div id="app">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <h1>åˆä¸­å¤§Leadsæ„å‘åº¦</h1>
        </div>
        
        <!-- æœç´¢åŒºåŸŸ -->
        <div class="search-container">
            <div class="search-type">
                <button 
                    :class="{ active: searchType === 'course' }" 
                    @click="searchType = 'course'"
                >
                    æŒ‰è¯¾ç¨‹æœç´¢
                </button>
                <button 
                    :class="{ active: searchType === 'student' }" 
                    @click="searchType = 'student'"
                >
                    æŒ‰å­¦ç”Ÿæœç´¢
                </button>
            </div>
            
            <div class="search-input-group">
                <input 
                    type="text" 
                    class="search-input" 
                    :placeholder="searchType === 'course' ? 'è¯·è¾“å…¥è¯¾ç¨‹ID' : 'è¯·è¾“å…¥å­¦ç”ŸID'"
                    v-model="searchKeyword"
                    @keyup.enter="search"
                >
                <button class="search-btn" @click="search">æœç´¢</button>
            </div>
        </div>
        
        <!-- å­¦ç”Ÿåˆ—è¡¨ -->
        <div class="student-list">
            <!-- åŠ è½½çŠ¶æ€ -->
            <div v-if="loading" class="loading">
                <div class="spinner"></div>
                <p>æ­£åœ¨æœç´¢ä¸­...</p>
            </div>
            
            <!-- ç©ºçŠ¶æ€ -->
            <div v-else-if="students.length === 0 && !loading" class="empty-state">
                <div style="font-size: 60px; margin-bottom: 20px;">ğŸ“š</div>
                <p>æš‚æ— å­¦ç”Ÿæ•°æ®</p>
                <p style="font-size: 14px; margin-top: 8px;">è¯·å°è¯•æœç´¢è¯¾ç¨‹æˆ–å­¦ç”Ÿ</p>
            </div>
            
            <!-- å­¦ç”Ÿåˆ—è¡¨ -->
            <div v-else>
                <!-- è¡¨å¤´ -->
                <div class="table-header">
                    <div>å­¦ç”ŸID</div>
                    <div>å­¦ç”Ÿå§“å</div>
                    <div>è”ç³»æ–¹å¼</div>
                    <div>è¯¾ç¨‹ID</div>
                    <div>è¯¾ç¨‹åç§°</div>
                    <div class="sort-header">
                        <span>æ„æ„¿å€¼</span>
                        <button class="sort-btn" @click="toggleSort" :class="{ active: sortOrder !== 'none' }">
                            <div class="sort-indicator" :class="sortOrder">
                                <div class="up-arrow"></div>
                                <div class="down-arrow"></div>
                            </div>
                        </button>
                    </div>
                    <div>æ“ä½œ</div>
                </div>
                
                <!-- å­¦ç”Ÿè¡Œ -->
                <div 
                    v-for="student in sortedStudents" 
                    :key="student.id" 
                    class="student-row"
                >
                    <div class="student-id">{{ student.id }}</div>
                    <div class="student-name">{{ student.name }}</div>
                    <div class="contact-info">{{ student.phone }}</div>
                    <div class="course-id" @click="viewCourseDetail(student.courseId)">
                        {{ student.courseId }}
                    </div>
                    <div class="course-name">{{ student.courseName }}</div>
                    <div 
                        class="probability-value"
                        :class="getProbabilityClass(student.probability)"
                    >
                        {{ student.probability }}%
                    </div>
                    <button class="detail-btn" @click="viewDetail(student)">
                        æŸ¥çœ‹è¯¦æƒ…
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
